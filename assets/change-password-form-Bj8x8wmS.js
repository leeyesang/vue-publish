import{X as P,a0 as y,a1 as k,a2 as B,a3 as C,a4 as q,a5 as I,D as R,b as _,e,i as n,a6 as a,d as f,a7 as S,Y as x,$ as M,r as p,a as N,u as V,a8 as F,a9 as L,j as c}from"./index-Cq3hQzo1.js";import{D as O,n as T}from"./load-indicator-CWQPhQmT.js";const j={components:{DxForm:R,DxItem:I,DxLabel:q,DxButtonItem:C,DxButtonOptions:B,DxRequiredRule:k,DxCustomRule:y,DxLoadIndicator:O},setup(){const u=L(),r=V(),l=p(""),o=p(!1),d=N({password:""});l.value=r.params.recoveryCode;async function m(){const{password:t}=d;o.value=!0;const s=await F.changePassword(t,l.value);o.value=!1,s.isOk?u.push("/login-form"):T(s.message,"error",2e3)}function i(t){return t.value===d.password}return{loading:o,formData:d,onSubmit:m,confirmPassword:i}}},E={class:"dx-button-text"},X={key:1};function Y(u,r,l,o,d,m){const i=a("dx-required-rule"),t=a("dx-label"),s=a("dx-item"),w=a("dx-custom-rule"),b=a("dx-button-options"),h=a("dx-button-item"),v=a("dx-loadIndicator"),g=a("dx-form");return c(),_("form",{onSubmit:r[0]||(r[0]=M((...D)=>o.onSubmit&&o.onSubmit(...D),["prevent"]))},[e(g,{"form-data":o.formData,disabled:o.loading},{changePassword:n(()=>[f("div",null,[f("span",E,[o.loading?(c(),S(v,{key:0,width:"24px",height:"24px",visible:!0})):x("",!0),o.loading?x("",!0):(c(),_("span",X,"Continue"))])])]),default:n(()=>[e(s,{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:n(()=>[e(i,{message:"Password is required"}),e(t,{visible:!1})]),_:1}),e(s,{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:n(()=>[e(i,{message:"Password is required"}),e(w,{message:"Passwords do not match","validation-callback":o.confirmPassword},null,8,["validation-callback"]),e(t,{visible:!1})]),_:1}),e(h,null,{default:n(()=>[e(b,{width:"100%",type:"default",template:"changePassword","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"])],32)}const G=P(j,[["render",Y]]);export{G as default};
