import{X as P,aa as q,a0 as C,a1 as I,a2 as S,a3 as h,a4 as E,a5 as R,D as T,b,e as o,d as u,i as t,a6 as a,ab as n,a7 as A,Y as g,$ as M,r as N,a as V,a8 as F,a9 as L,j as _}from"./index-Cq3hQzo1.js";import{D as O,n as j}from"./load-indicator-CWQPhQmT.js";const H={components:{DxForm:T,DxItem:R,DxLabel:E,DxButtonItem:h,DxButtonOptions:S,DxRequiredRule:I,DxCustomRule:C,DxEmailRule:q,DxLoadIndicator:O},setup(){const x=L(),e=N(!1),i=V({email:"",password:""}),s=async()=>{const{email:r,password:d}=i;e.value=!0;const l=await F.createAccount(r,d);e.value=!1,l.isOk?x.push("/login-form"):j(l.message,"error",2e3)};function p(r){return r.value===i.password}return{formData:i,loading:e,onSubmit:s,confirmPassword:p}}},X={class:"policy-info"},Y={class:"dx-button-text"},z={key:1},G={class:"login-link"};function J(x,e,i,s,p,r){const d=a("dx-required-rule"),l=a("dx-email-rule"),c=a("dx-label"),m=a("dx-item"),v=a("dx-custom-rule"),f=a("router-link"),w=a("dx-button-options"),y=a("dx-button-item"),D=a("dx-loadIndicator"),k=a("dx-form");return _(),b("form",{class:"create-account-form",onSubmit:e[0]||(e[0]=M((...B)=>s.onSubmit&&s.onSubmit(...B),["prevent"]))},[o(k,{"form-data":s.formData,disabled:s.loading},{createAccount:t(()=>[u("div",null,[u("span",Y,[s.loading?(_(),A(D,{key:0,width:"24px",height:"24px",visible:!0})):g("",!0),s.loading?g("",!0):(_(),b("span",z,"Create a new account"))])])]),default:t(()=>[o(m,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:t(()=>[o(d,{message:"Email is required"}),o(l,{message:"Email is invalid"}),o(c,{visible:!1})]),_:1}),o(m,{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:t(()=>[o(d,{message:"Password is required"}),o(c,{visible:!1})]),_:1}),o(m,{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:t(()=>[o(d,{message:"Password is required"}),o(v,{message:"Passwords do not match","validation-callback":s.confirmPassword},null,8,["validation-callback"]),o(c,{visible:!1})]),_:1}),o(m,null,{default:t(()=>[u("div",X,[e[3]||(e[3]=n(" By creating an account, you agree to the ",-1)),o(f,{to:"#"},{default:t(()=>[...e[1]||(e[1]=[n("Terms of Service",-1)])]),_:1}),e[4]||(e[4]=n(" and ",-1)),o(f,{to:"#"},{default:t(()=>[...e[2]||(e[2]=[n("Privacy Policy",-1)])]),_:1})])]),_:1}),o(y,null,{default:t(()=>[o(w,{width:"100%",type:"default",template:"createAccount","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),u("div",G,[e[6]||(e[6]=n(" Have an account? ",-1)),o(f,{to:"/login-form"},{default:t(()=>[...e[5]||(e[5]=[n("Sign In",-1)])]),_:1})])],32)}const U=P(H,[["render",J]]);export{U as default};
