import{X as B,aa as R,a1 as E,a2 as S,a3 as T,a4 as q,a5 as C,D as I,b as u,e as a,d as r,i as s,a6 as t,a7 as N,Y as c,ab as _,$ as V,r as F,a as L,a8 as M,a9 as O,j as l}from"./index-Cq3hQzo1.js";import{D as P,n as x}from"./load-indicator-CWQPhQmT.js";const j="We've sent a link to reset your password. Check your inbox.",W={components:{DxForm:I,DxItem:C,DxLabel:q,DxButtonItem:T,DxButtonOptions:S,DxRequiredRule:E,DxEmailRule:R,DxLoadIndicator:P},setup(){const d=O(),e=F(!1),n=L({email:""});async function o(){const{email:m}=n;e.value=!0;const i=await M.resetPassword(m);e.value=!1,i.isOk?(d.push("/login-form"),x(j,"success",2500)):x(i.message,"error",2e3)}return{loading:e,formData:n,onSubmit:o}}},X={class:"dx-button-text"},Y={key:1},z={class:"login-link"};function A(d,e,n,o,m,i){const p=t("dx-required-rule"),f=t("dx-email-rule"),b=t("dx-label"),g=t("dx-item"),v=t("dx-button-options"),D=t("dx-button-item"),k=t("dx-load-indicator"),w=t("dx-form"),y=t("router-link");return l(),u("form",{class:"reset-password-form",onSubmit:e[0]||(e[0]=V((...h)=>o.onSubmit&&o.onSubmit(...h),["prevent"]))},[a(w,{"form-data":o.formData,disabled:o.loading},{resetTemplate:s(()=>[r("div",null,[r("span",X,[o.loading?(l(),N(k,{key:0,width:"24px",height:"24px",visible:!0})):c("",!0),o.loading?c("",!0):(l(),u("span",Y,"Reset my password"))])])]),default:s(()=>[a(g,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:s(()=>[a(p,{message:"Email is required"}),a(f,{message:"Email is invalid"}),a(b,{visible:!1})]),_:1}),a(D,null,{default:s(()=>[a(v,{"element-attr":{class:"submit-button"},width:"100%",type:"default",template:"resetTemplate","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),r("div",z,[e[2]||(e[2]=_(" Return to ",-1)),a(y,{to:"/login-form"},{default:s(()=>[...e[1]||(e[1]=[_("Sign In",-1)])]),_:1})])],32)}const J=B(W,[["render",A]]);export{J as default};
